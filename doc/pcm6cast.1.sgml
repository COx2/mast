<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN">

<refentry>
<refmeta>
<refentrytitle>pcm6cast</refentrytitle>
<manvolnum>1</manvolnum>
</refmeta>
<refnamediv>
    <refname>pcm6cast</refname>
    <refpurpose>multicast raw PCM audio over IPv6 using RTP</refpurpose>
</refnamediv>
<refsynopsisdiv>
<simpara>
<emphasis>pcm6cast</emphasis> [-t ttl] [-p payload] [-z payload size]
        [-f filename] [-l] [-d device] [-i] [-s ssrc]
        &lt;multicast group&gt;/&lt;port&gt;
</simpara>

</refsynopsisdiv>
<refsect1>
<title>DESCRIPTION</title>
<simpara>
pcm6cast(1) encapsulates audio into a stream of RTP packets and multicasts
(or unicasts) them to an IPv6 address. It can take audio from sound card,
audio file or STDIN. Audio must be in the same format as one of the supported
static payload types.
</simpara>

<simpara>
The port number should be an even number (RTCP reports are sent one port higher).
</simpara>

</refsect1>
<refsect1>
<title>OPTIONS</title>
<variablelist>
<varlistentry>
<term>
-h
</term>
<listitem>
<simpara>
        Return usage and version information.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
-t
</term>
<listitem>
<simpara>
        Sets <emphasis>TTL</emphasis> (Time To Live) for packets sent. Packets will ignored after
        they have passed this number of routers. Default is 5, maximum is 127.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
-p
</term>
<listitem>
<simpara>
        <emphasis>Payload type</emphasis> of the encoded packets. pcm6cast currently only supports
        the following four static payload types. Default is 10.
</simpara>
<itemizedlist>
<listitem>
<simpara>
Payload  0: PCMU, 8khz,    Mono
</simpara>
</listitem>
<listitem>
<simpara>
Payload  8: PCMA, 8khz,    Mono
</simpara>
</listitem>
<listitem>
<simpara>
Payload 10: L16,  44.1khz, Stereo
</simpara>
</listitem>
<listitem>
<simpara>
Payload 11: L16,  44.1khz, Mono
</simpara>
</listitem>
</itemizedlist>
</listitem>
</varlistentry>
<varlistentry>
<term>
-z
</term>
<listitem>
<simpara>
        <emphasis>Payload size</emphasis> of the packets. Allows you to choose the length of the payload
        data (in bytes) for each packet transmitted. This is usually a number between
        300 bytes and 1300 bytes. This isn't normally required - a payload size
        will be selected based on the chosen payload type.
        Note that the maximum packet size (MTU) is determined by your networking equipment.
        Also be careful of IP-in-IP tunnelling as packets will have two IP headers which
        makes it more likely that the packet will be too big and get fragmented.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
-f
</term>
<listitem>
<simpara>
        Use audio file <emphasis>filename</emphasis> as the source of the audio to be multicast.
        Audio file format can be AIFF/WAVE/.snd/.au. The sample rate and number of
        channels should be the same as the chosen payload type. The encoding of the
        samples should be 16-bit twos complement.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
-l
</term>
<listitem>
<simpara>
        <emphasis>Loop</emphasis> the audio file. Repeat playing the audio file. Only valid with <emphasis>-f</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
-d
</term>
<listitem>
<simpara>
        Use sound card <emphasis>device</emphasis> as source of audio. Your operating system must
        support the OSS (basic) API.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
-i
</term>
<listitem>
<simpara>
        Use <emphasis>STDIN</emphasis> as source of audio. Audio must be the same sample rate and number
        of channels as the chosen payload type. The sample format should be 16-bit
        two's complement and using the system endianess.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
-s
</term>
<listitem>
<simpara>
        Usually a random SSRC is generated, however if you want to ensure that an SSRC
        remain constant between invocations of the program, then you may specify it here as
        a hexadecimal number.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1>
<title>EXAMPLES</title>
<simpara>
<literal>pcm6cast -f audiofile.aiff FF03::123/5010</literal>
</simpara>

<simpara>
Broadcast a sound file out to multicast group FF02::123 on port 5010.
</simpara>

<simpara>
<literal>pcm6cast -d /dev/dsp -p 8 FF03::123/5010</literal>
</simpara>

<simpara>
Broadcast audio from sound card using payload type 8.
</simpara>

</refsect1>
<refsect1>
<title>BUGS</title>
<itemizedlist>
<listitem>
<simpara>
pcm6cast(1) does not currently use RTCP (it should)
</simpara>
</listitem>
</itemizedlist>
</refsect1>
<refsect1>
<title>AUTHOR</title>
<simpara>
Written by Nicholas J. Humfrey, &lt;njh@ecs.soton.ac.uk&gt;
</simpara>

</refsect1>
<refsect1>
<title>RESOURCES</title>
<simpara>
Main web site: http://www.ecs.soton.ac.uk/~njh/pcm6cast/
</simpara>

<simpara>
RTP Payload types: http://www.iana.org/assignments/rtp-parameters
</simpara>

</refsect1>
<refsect1>
<title>SEE ALSO</title>
<simpara>
pcm6client(1)
</simpara>

</refsect1>
<refsect1>
<title>COPYING</title>
<simpara>
Copyright (C) 2003,2004 University of Southampton. Free use of this software is
granted under the terms of the GNU Lesser General Public License (LGPL)
</simpara>

</refsect1>
</refentry>
