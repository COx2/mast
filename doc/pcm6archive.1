.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "PCM6ARCHIVE" "1" "19 May 2004" "" ""

.SH NAME
pcm6archive \- records PCM audio multicast stream to MP3 file
.SH SYNOPSIS
.PP
\fBpcm6archive\fR [-t duration] [-b bitrate] [-p payload]
[-m] [-d] <multicast group>/<port> <filename>
.SH "DESCRIPTION"
.PP
pcm6archive(1) is a perl script which listens to a multicast
PCM audio stream (using a pcm6client(1) process) and encodes
the audio to an MPEG Audio file \fBfilename\fR using lame(1).
.PP
You must specify the \fBpayload\fR type number expected to be received
on the multicast stream. This is so that lame(1) can be initialized
with the correct audio parameters.
.SH "OPTIONS"
.TP
\fB-h\fR
Return usage and version information.
.TP
\fB-t\fR
Duration in seconds to record for. Defaults to 0, which records
indefinitely, until stopped by user.
.TP
\fB-b\fR
Bitrate of recording in \fBkbps\fR\&. Default bitrate is 16kbps for payloads
0 and 8, 128kbps for payload 10 and 64kbps for payload 11.
See lame --longhelp for a list of valid bitrates.
.TP
\fB-p\fR
Payload of the multicast stream. If this payload type is not
received then recording is aborted. Default expected payload is 10.
.TP
\fB-m\fR
Downmix the recorded stream to mono.
.TP
\fB-d\fR
Directory mode. Uses filenames in the form YYYY-MM-DD-HH.mp3 and stores
them in directory specified using the normal \fBfilename\fR option on the
command line. Also sets the duration \fB-t\fR to 3600 seconds (1 hour).
This option works well when running pcm6archive hourly using cron(8).
.SH "TODO"
.TP 0.2i
\(bu
Option to archive to Ogg file using oggenc
.TP 0.2i
\(bu
Start recording timer when pcm6client actually gets a packet
.TP 0.2i
\(bu
More accurate timing than alarm() ?
.TP 0.2i
\(bu
Check for pcm6client and lame without which
.TP 0.2i
\(bu
Automatic detection of payload type
.SH "AUTHOR"
.PP
Written by Nicholas J. Humfrey, <njh@ecs.soton.ac.uk>
.SH "RESOURCES"
.PP
Main web site: http://www.ecs.soton.ac.uk/~njh/pcm6cast/
.SH "SEE ALSO"
.PP
pcm6client(1), pcm6cast(1), lame(1)
.SH "COPYING"
.PP
Copyright (C) 2003,2004 University of Southampton. Free use of this software is
granted under the terms of the GNU Lesser General Public License (LGPL)
